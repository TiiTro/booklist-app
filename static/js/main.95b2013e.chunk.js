(this["webpackJsonpbooklist-app"]=this["webpackJsonpbooklist-app"]||[]).push([[0],{25:function(e,t,o){},56:function(e,t,o){"use strict";o.r(t);var n=o(1),l=o(7),a=o.n(l),c=(o(25),o(3)),i=o(4),s=o.n(i),b=o(0),u=function(e){var t=e.label,o=e.value,n=e.onChange;return Object(b.jsx)("div",{children:Object(b.jsxs)("label",{children:[t,Object(b.jsx)("input",{value:o,onChange:n})]})})},j=function(e){var t=e.value,o=e.type,n=e.buttonText,l=e.onClick;return Object(b.jsx)("div",{children:Object(b.jsx)("button",{value:t,type:o,onClick:l,children:n})})},r=function(e){var t=e.bookTitle,o=e.bookAuthor,n=e.bookComments,l=e.handlebookTitle,a=e.handlebookAuthor,c=e.handlebookComments,i=e.submit,s=e.onSubmit;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Lis\xe4\xe4 kirja"}),Object(b.jsxs)("form",{onSubmit:s,children:[Object(b.jsx)(u,{label:"Kirjan nimi",value:t,onChange:l}),Object(b.jsx)("br",{}),Object(b.jsx)(u,{label:"Kirjoittaja",value:o,onChange:a}),Object(b.jsx)("br",{}),Object(b.jsx)(u,{label:"Kommentit",value:n,onChange:c}),Object(b.jsx)(j,{type:i,buttonText:"Tallenna"})]})]})},d=function(e){var t=e.title,o=e.author,n=e.comments,l=e.handleDelete,a=e.openEdit;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("h3",{children:t}),Object(b.jsx)("p",{children:o}),Object(b.jsx)("p",{children:n})]}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(b.jsx)(j,{value:"Muokkaa",buttonText:"Muokkaa",onClick:a}),Object(b.jsx)(j,{value:"Poista",buttonText:"Poista",onClick:l})]})]})},h=o(20),O=o.n(h),m=function(e){var t=e.bookTitle,o=e.bookAuthor,n=e.bookComments,l=e.handlebookTitle,a=e.handlebookAuthor,c=e.handlebookComments,i=e.submit,s=e.onSubmit,r=e.modalIsOpen,d=e.closeModal;return Object(b.jsx)("div",{children:Object(b.jsxs)(O.a,{isOpen:r,children:[Object(b.jsx)("h3",{children:"Muokkaa kirjaa"}),Object(b.jsxs)("form",{onSubmit:s,children:[Object(b.jsx)(u,{label:"Kirjan nimi",value:t,onChange:l}),Object(b.jsx)("br",{}),Object(b.jsx)(u,{label:"Kirjoittaja",value:o,onChange:a}),Object(b.jsx)("br",{}),Object(b.jsx)(u,{label:"Kommentit",value:n,onChange:c}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(b.jsx)(j,{type:i,value:"Tallenna",buttonText:"Tallenna"}),Object(b.jsx)(j,{value:"Peruuta",buttonText:"Peruuta",onClick:d})]})]})]})})},x=function(e){var t=e.books,o=e.handleDelete,n=e.handleEdit,l=e.openEdit,a=e.modalIsOpen;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Luetut kirjat"}),Object(b.jsx)("ul",{style:{listStyleType:"none"},children:t.map((function(e){return Object(b.jsx)(d,{handleDelete:function(){return o(e)},handleEdit:n,openEdit:function(){return l(e)},title:e.title,author:e.author,comments:e.comments,id:e.id,modalIsOpen:a},e.id)}))})]})},k=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),o=t[0],l=t[1],a=Object(n.useState)(""),i=Object(c.a)(a,2),u=i[0],j=i[1],d=Object(n.useState)(""),h=Object(c.a)(d,2),O=h[0],k=h[1],v=Object(n.useState)(""),f=Object(c.a)(v,2),p=f[0],g=f[1],C=Object(n.useState)(""),T=Object(c.a)(C,2),S=T[0],y=T[1],E=Object(n.useState)(!1),D=Object(c.a)(E,2),w=D[0],A=D[1];Object(n.useEffect)((function(){console.log("effect"),s.a.get("http://localhost:4000/books").then((function(e){console.log("promise fulfilled"),l(e.data)}))}),[]);var K=function(e){console.log(e.target.value),j(e.target.value)},I=function(e){console.log(e.target.value),k(e.target.value)},M=function(e){console.log(e.target.value),g(e.target.value)},P=function(e){e.preventDefault(),console.log("Submitting edit");var t=S,o={title:u,author:O,comments:p};console.log(o),console.log(t),s.a.post("http://localhost:4000/books/update/"+t,o).then((function(e){console.log("axios, muokataan",e.data)})),console.log("muokattu"),A(!1),j(""),k(""),g(""),window.alert("Muokkaukset on tallennettu.")};return Object(b.jsxs)("div",{children:[Object(b.jsx)(r,{bookTitle:u,bookAuthor:O,onSubmit:function(e){e.preventDefault();var t={title:u,author:O,comments:p};console.log("Kirja lis\xe4t\xe4\xe4n",t),s.a.post("http://localhost:4000/books/add",t).then((function(e){l(o.concat(t)),console.log("axios",e.data)})),j(""),k(""),g("")},handlebookTitle:K,handlebookAuthor:I,bookComments:p,handlebookComments:M}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{children:[Object(b.jsx)(m,{modalIsOpen:w,bookTitle:u,bookAuthor:O,onSubmit:P,handlebookTitle:K,handlebookAuthor:I,bookComments:p,handlebookComments:M,closeModal:function(){return A(!1)}}),Object(b.jsx)(x,{books:o,handleDelete:function(e){console.log("Delete clicked"),console.log(e.id),window.confirm("Poistetaanko ".concat(e.title,"?"))?s.a.delete("http://localhost:4000/books/"+e.id).then((function(t){console.log(t.data,e.title);var n=o.filter((function(t){return t.id!==e.id}));l(n),console.log("Updated book list: ",n)})):console.log("Not removing")},handleEdit:P,openEdit:function(e){console.log("Edit",e.id,e.title),A(!0),j(e.title),k(e.author),g(e.comments),y(e.id)},modalIsOpen:w})]})]})};a.a.render(Object(b.jsx)(k,{}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.95b2013e.chunk.js.map